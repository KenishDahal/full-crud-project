{"ast":null,"code":"var _jsxFileName = \"/Users/kenishdahal/react/src/pages/Customers.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from \"react\";\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\nimport AddCustomer from \"../components/AddCustomer\";\nimport { baseUrl } from \"../shared\";\nimport { LoginContext } from \"../App\";\nimport useFetch from \"../hooks/UseFetch\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Customers() {\n  _s();\n\n  const [loggedIn, setLoggedIn] = useContext(LoginContext); //const [customers, setCustomers] = useState();\n\n  const [show, setShow] = useState(false);\n\n  function toggleShow() {\n    setShow(!show);\n  }\n\n  const location = useLocation();\n  const navigate = useNavigate();\n  const url = baseUrl + \"api/customers/\";\n  const {\n    request,\n    appendData,\n    data: {\n      customers\n    } = {},\n    errorStatus\n  } = useFetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + localStorage.getItem(\"access\")\n    }\n  });\n  useEffect(() => {\n    request();\n  }, []); //useEffect(() => {\n  //    console.log(request, appendData, customers, errorStatus);\n  //});\n\n  function newCustomer(name, industry) {\n    appendData({\n      name: name,\n      industry: industry\n    });\n\n    if (!errorStatus) {\n      toggleShow();\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Customers List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), customers ? customers.map(customer => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"m-2\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/customers/\" + customer._id,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"no-underline bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded\",\n              children: customer.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 19\n          }, this)\n        }, customer.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this);\n      }) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddCustomer, {\n      newCustomer: newCustomer,\n      show: show,\n      toggleShow: toggleShow\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Customers, \"Z0MranjBR85Q6LoCp25rpWRWMr4=\", false, function () {\n  return [useLocation, useNavigate, useFetch];\n});\n\n_c = Customers;\n\nvar _c;\n\n$RefreshReg$(_c, \"Customers\");","map":{"version":3,"names":["useEffect","useState","useContext","Link","useNavigate","useLocation","AddCustomer","baseUrl","LoginContext","useFetch","Customers","loggedIn","setLoggedIn","show","setShow","toggleShow","location","navigate","url","request","appendData","data","customers","errorStatus","method","headers","Authorization","localStorage","getItem","newCustomer","name","industry","map","customer","_id","id"],"sources":["/Users/kenishdahal/react/src/pages/Customers.js"],"sourcesContent":["import { useEffect, useState, useContext } from \"react\";\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\nimport AddCustomer from \"../components/AddCustomer\";\nimport { baseUrl } from \"../shared\";\nimport { LoginContext } from \"../App\";\nimport useFetch from \"../hooks/UseFetch\";\n\nexport default function Customers() {\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  //const [customers, setCustomers] = useState();\n  const [show, setShow] = useState(false);\n\n  function toggleShow() {\n    setShow(!show);\n  }\n\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const url = baseUrl + \"api/customers/\";\n  const {\n    request,\n    appendData,\n    data: { customers } = {},\n    errorStatus,\n  } = useFetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + localStorage.getItem(\"access\"),\n    },\n  });\n\n  useEffect(() => {\n    request();\n  }, []);\n\n  //useEffect(() => {\n  //    console.log(request, appendData, customers, errorStatus);\n  //});\n\n  function newCustomer(name, industry) {\n    appendData({ name: name, industry: industry });\n\n    if (!errorStatus) {\n      toggleShow();\n    }\n  }\n\n  return (\n    <>\n      <div>\n        <h1>Customers List</h1>\n        {customers\n          ? customers.map((customer) => {\n              return (\n                <div className=\"m-2\" key={customer.id}>\n                  <Link to={\"/customers/\" + customer._id}>\n                    <button className=\"no-underline bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded\">\n                      {customer.name}\n                    </button>\n                  </Link>\n                </div>\n              );\n            })\n          : null}\n      </div>\n\n      <AddCustomer\n        newCustomer={newCustomer}\n        show={show}\n        toggleShow={toggleShow}\n      />\n    </>\n  );\n}\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,SAASC,IAAT,EAAeC,WAAf,EAA4BC,WAA5B,QAA+C,kBAA/C;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,YAAT,QAA6B,QAA7B;AACA,OAAOC,QAAP,MAAqB,mBAArB;;;AAEA,eAAe,SAASC,SAAT,GAAqB;EAAA;;EAClC,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BV,UAAU,CAACM,YAAD,CAA1C,CADkC,CAElC;;EACA,MAAM,CAACK,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,KAAD,CAAhC;;EAEA,SAASc,UAAT,GAAsB;IACpBD,OAAO,CAAC,CAACD,IAAF,CAAP;EACD;;EAED,MAAMG,QAAQ,GAAGX,WAAW,EAA5B;EACA,MAAMY,QAAQ,GAAGb,WAAW,EAA5B;EAEA,MAAMc,GAAG,GAAGX,OAAO,GAAG,gBAAtB;EACA,MAAM;IACJY,OADI;IAEJC,UAFI;IAGJC,IAAI,EAAE;MAAEC;IAAF,IAAgB,EAHlB;IAIJC;EAJI,IAKFd,QAAQ,CAACS,GAAD,EAAM;IAChBM,MAAM,EAAE,KADQ;IAEhBC,OAAO,EAAE;MACP,gBAAgB,kBADT;MAEPC,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,QAArB;IAFpB;EAFO,CAAN,CALZ;EAaA5B,SAAS,CAAC,MAAM;IACdmB,OAAO;EACR,CAFQ,EAEN,EAFM,CAAT,CA1BkC,CA8BlC;EACA;EACA;;EAEA,SAASU,WAAT,CAAqBC,IAArB,EAA2BC,QAA3B,EAAqC;IACnCX,UAAU,CAAC;MAAEU,IAAI,EAAEA,IAAR;MAAcC,QAAQ,EAAEA;IAAxB,CAAD,CAAV;;IAEA,IAAI,CAACR,WAAL,EAAkB;MAChBR,UAAU;IACX;EACF;;EAED,oBACE;IAAA,wBACE;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,EAEGO,SAAS,GACNA,SAAS,CAACU,GAAV,CAAeC,QAAD,IAAc;QAC1B,oBACE;UAAK,SAAS,EAAC,KAAf;UAAA,uBACE,QAAC,IAAD;YAAM,EAAE,EAAE,gBAAgBA,QAAQ,CAACC,GAAnC;YAAA,uBACE;cAAQ,SAAS,EAAC,uFAAlB;cAAA,UACGD,QAAQ,CAACH;YADZ;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA;QADF,GAA0BG,QAAQ,CAACE,EAAnC;UAAA;UAAA;UAAA;QAAA,QADF;MASD,CAVD,CADM,GAYN,IAdN;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAkBE,QAAC,WAAD;MACE,WAAW,EAAEN,WADf;MAEE,IAAI,EAAEhB,IAFR;MAGE,UAAU,EAAEE;IAHd;MAAA;MAAA;MAAA;IAAA,QAlBF;EAAA,gBADF;AA0BD;;GApEuBL,S;UASLL,W,EACAD,W,EAQbK,Q;;;KAlBkBC,S"},"metadata":{},"sourceType":"module"}